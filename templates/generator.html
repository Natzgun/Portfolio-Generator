<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Portafolio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/generator.css') }}">
</head>

<body>
    <div class="generator-container">
        <div class="generator-header">
            <h1>Generador de Portafolio</h1>
            <div class="header-actions">
                <span class="header-tip">üí° Edita <code>data.json</code> para actualizar tu portfolio</span>
                <label class="btn-json btn-import">
                    <input type="file" id="json-file-input" accept=".json" style="display: none;"
                        onchange="importJSON(this)">
                    üìÇ Cargar JSON
                </label>
                <button type="button" class="btn-preview" onclick="previewPortfolio()">üëÅÔ∏è Vista Previa</button>
                <button type="button" class="btn-download" onclick="downloadPortfolio()">üì¶ Descargar</button>
                <a href="/" class="btn-secondary">Volver</a>
            </div>
        </div>

        <div class="generator-layout">
            <!-- Sidebar de navegaci√≥n -->
            <aside class="sidebar-nav">
                <!-- Progreso general -->
                <div class="progress-overall">
                    <div class="progress-label">
                        <span>Progreso total</span>
                        <span id="overall-percent">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="overall-progress-bar"></div>
                    </div>
                </div>

                <nav class="nav-menu">
                    <a href="#basic" class="nav-item active" data-section="basic">
                        <span class="nav-icon">üë§</span>
                        <span class="nav-label">Informaci√≥n B√°sica</span>
                        <span class="nav-status" id="status-basic">0%</span>
                    </a>
                    <a href="#contact" class="nav-item" data-section="contact">
                        <span class="nav-icon">üìß</span>
                        <span class="nav-label">Contacto</span>
                        <span class="nav-status" id="status-contact">0%</span>
                    </a>
                    <a href="#sections" class="nav-item" data-section="sections">
                        <span class="nav-icon">üìã</span>
                        <span class="nav-label">Secciones</span>
                        <span class="nav-status" id="status-sections">0%</span>
                    </a>
                    <a href="#experience" class="nav-item hidden" data-section="experience">
                        <span class="nav-icon">üíº</span>
                        <span class="nav-label">Experiencia</span>
                        <span class="nav-status" id="status-experience">0%</span>
                    </a>
                    <a href="#publications" class="nav-item hidden" data-section="publications">
                        <span class="nav-icon">üìö</span>
                        <span class="nav-label">Publicaciones</span>
                        <span class="nav-status" id="status-publications">0%</span>
                    </a>
                    <a href="#projects" class="nav-item hidden" data-section="projects">
                        <span class="nav-icon">üöÄ</span>
                        <span class="nav-label">Proyectos</span>
                        <span class="nav-status" id="status-projects">0%</span>
                    </a>
                    <a href="#skills" class="nav-item" data-section="skills">
                        <span class="nav-icon">‚ö°</span>
                        <span class="nav-label">Habilidades</span>
                        <span class="nav-status" id="status-skills">0%</span>
                    </a>
                </nav>
            </aside>

            <!-- √Årea de contenido -->
            <main class="form-container">
                <form id="portfolio-form">
                    <!-- Informaci√≥n b√°sica -->
                    <section class="form-section active" id="section-basic">
                        <h2>Informaci√≥n B√°sica</h2>

                        <div class="form-group">
                            <label for="name">Nombre completo *</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="title">T√≠tulo profesional *</label>
                            <input type="text" id="title" name="title"
                                placeholder="Ej: Computer Scientist, Software Engineer" required>
                        </div>

                        <div class="form-group">
                            <label>Foto de perfil</label>
                            <div class="image-input-group">
                                <div class="image-upload-option">
                                    <label class="btn-upload">
                                        <input type="file" id="profile-image-file" accept="image/*"
                                            onchange="handleImageUpload(this, 'profile-image', 'profile-image-preview')">
                                        üìÅ Subir imagen
                                    </label>
                                    <span class="upload-or">o</span>
                                    <input type="text" id="profile-image" name="profileImage"
                                        placeholder="URL de imagen">
                                </div>
                                <div class="image-preview" id="profile-image-preview"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="about">Sobre m√≠</label>
                            <textarea id="about" name="about" rows="6"
                                placeholder="Escribe una breve descripci√≥n sobre ti..."></textarea>
                        </div>
                    </section>

                    <!-- Contacto -->
                    <section class="form-section" id="section-contact">
                        <h2>Informaci√≥n de Contacto</h2>

                        <div class="form-group">
                            <label for="location">Ubicaci√≥n</label>
                            <input type="text" id="location" name="location" placeholder="Ej: Arequipa, Per√∫">
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="tu@email.com">
                        </div>

                        <div class="form-group">
                            <label for="github">GitHub</label>
                            <input type="text" id="github" name="github" placeholder="usuario">
                        </div>

                        <div class="form-group">
                            <label for="linkedin">LinkedIn</label>
                            <input type="text" id="linkedin" name="linkedin" placeholder="usuario">
                        </div>

                        <div class="form-group">
                            <label for="researchgate">ResearchGate</label>
                            <input type="text" id="researchgate" name="researchgate" placeholder="usuario">
                        </div>

                        <div class="form-group">
                            <label for="scholar">Google Scholar</label>
                            <input type="text" id="scholar" name="scholar" placeholder="ID">
                        </div>

                        <div class="form-group">
                            <label for="orcid">ORCID</label>
                            <input type="text" id="orcid" name="orcid" placeholder="0000-0000-0000-0000">
                        </div>
                    </section>

                    <!-- Selecci√≥n de secciones -->
                    <section class="form-section" id="section-sections">
                        <h2>Secciones a Incluir</h2>
                        <div class="form-group">
                            <div class="section-toggle">
                                <label for="toggle-about">Sobre m√≠</label>
                                <input type="checkbox" id="toggle-about" name="sections" value="about" checked>
                            </div>
                            <div class="section-toggle">
                                <label for="toggle-experience">Experiencia</label>
                                <input type="checkbox" id="toggle-experience" name="sections" value="experience">
                            </div>
                            <div class="section-toggle">
                                <label for="toggle-publications">Publicaciones</label>
                                <input type="checkbox" id="toggle-publications" name="sections" value="publications">
                            </div>
                            <div class="section-toggle">
                                <label for="toggle-projects">Portfolio/Proyectos</label>
                                <input type="checkbox" id="toggle-projects" name="sections" value="projects">
                            </div>
                        </div>
                    </section>

                    <!-- Experiencia -->
                    <section class="form-section hidden" id="section-experience">
                        <h2>Experiencia</h2>
                        <div id="experience-container"></div>
                        <button type="button" class="btn-add" onclick="addExperience()">+ A√±adir Experiencia</button>
                    </section>

                    <!-- Publicaciones -->
                    <section class="form-section hidden" id="section-publications">
                        <h2>Publicaciones</h2>
                        <div id="publications-container"></div>
                        <button type="button" class="btn-add" onclick="addPublication()">+ A√±adir Publicaci√≥n</button>
                    </section>

                    <!-- Proyectos -->
                    <section class="form-section hidden" id="section-projects">
                        <h2>Proyectos</h2>
                        <div id="projects-container"></div>
                        <button type="button" class="btn-add" onclick="addProject()">+ A√±adir Proyecto</button>
                    </section>

                    <!-- Habilidades t√©cnicas -->
                    <section class="form-section" id="section-skills">
                        <h2>Habilidades T√©cnicas</h2>
                        <div class="form-group">
                            <label for="skills">Habilidades (separadas por comas)</label>
                            <input type="text" id="skills" name="skills"
                                placeholder="C++, Python, JavaScript, Git, Docker...">
                        </div>
                    </section>
                </form>
            </main>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/generator.js') }}"></script>
</body>

</html>